
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop plays Kiming</title>
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --card-bg: #f5f5f5;
            --button-bg: #2196F3;
            --button-hover: #1976D2;
            --clan-button-bg: #2196F3;
            --clan-button-hover: #1976D2;
            --support-button-bg: #4CAF50;
            --support-button-hover: #388E3C;
            --highlight-color: #2196F3;
            --telegram-color: #0088cc;
            --error-color: #f44336;
            --success-color: #4CAF50;
            --vodafone-red: #E40000;
            --whatsapp-green: #25D366;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #f1f1f1;
            --card-bg: #1e1e1e;
            --button-bg: #42A5F5;
            --button-hover: #1E88E5;
            --clan-button-bg: #42A5F5;
            --clan-button-hover: #1E88E5;
            --support-button-bg: #2E7D32;
            --support-button-hover: #1B5E20;
            --highlight-color: #42A5F5;
            --error-color: #e53935;
            --success-color: #43A047;
            --vodafone-red: #FF3333;
            --whatsapp-green: #128C7E;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            transition: all 0.3s ease;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 10px;
            background-color: var(--bg-color);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background-image: url('https://i.postimg.cc/fRjpkyTb/IMG.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            border: 2px solid var(--highlight-color);
        }

        .logo-text {
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background-color: var(--vodafone-red);
    color: white;
    border-radius: 50%;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: bold;
    box-shadow: 0 2px 3px rgba(0,0,0,0.2);
}

.contest-banner {
    width: 100%;
    border-radius: 12px;
    margin-bottom: 20px;
    border: 2px solid var(--highlight-color);
}

.contest-content {
    padding: 0 10px;
}

.contest-section {
    margin-bottom: 20px;
    background: var(--card-bg);
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid var(--highlight-color);
}

.section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.section-icon {
    width: 24px;
    height: 24px;
    object-fit: contain;
}

.section-title {
    margin: 0;
    font-size: 18px;
    color: var(--highlight-color);
}

.section-text {
    margin: 10px 0 0 0;
    font-size: 16px;
}

.contest-rules {
    padding-right: 20px;
    margin: 10px 0 0 0;
}

.contest-rules li {
    margin-bottom: 8px;
    position: relative;
}

.contest-button {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: bold;
    width: 100%;
    margin-top: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 16px;
    cursor: pointer;
}

.button-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;
} 

        .highlight {
            color: var(--highlight-color);
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .dark-mode-toggle {
            background: none;
            border: none;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--card-bg);
            transition: all 0.3s ease;
        }

        .dark-mode-toggle svg {
            width: 24px;
            height: 24px;
            fill: var(--text-color);
        }

        /* القائمة الجانبية */
        .menu-container {
            position: relative;
        }

        .menu-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--card-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }

        .menu-line {
            width: 20px;
            height: 2px;
            background-color: var(--text-color);
            transition: all 0.3s ease;
        }

        .menu-button.active .menu-line:nth-child(1) {
            transform: translateY(6px) rotate(45deg);
        }

        .menu-button.active .menu-line:nth-child(2) {
            opacity: 0;
        }

        .menu-button.active .menu-line:nth-child(3) {
            transform: translateY(-6px) rotate(-45deg);
        }

        .menu-dropdown {
            position: absolute;
            top: 50px;
            left: 0;
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            width: 200px;
            opacity: 0;
            transform: translateX(20px);
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .menu-dropdown.active {
            opacity: 1;
            transform: translateX(0);
            visibility: visible;
        }

        .menu-item {
            padding: 10px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 5px;
        }

        .menu-item:hover {
            background-color: rgba(33, 150, 243, 0.1);
        }

        .menu-item:last-child {
            margin-bottom: 0;
        }

        .menu-item svg {
            width: 18px;
            height: 18px;
            fill: var(--highlight-color);
        }

        .menu-item span {
            font-size: 14px;
            font-weight: 500;
        }

        .menu-title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--highlight-color);
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(33, 150, 243, 0.3);
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
        }

        .main-title {
            text-align: center;
            margin: 15px 0 25px;
            font-size: 22px;
            color: var(--text-color);
            background: var(--card-bg);
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .main-title span {
            color: var(--highlight-color);
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* أضف هذه الأنماط الجديدة */
        .game-selector {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding: 10px 0;
            margin-bottom: 20px;
            scrollbar-width: none;
        }

        .game-selector::-webkit-scrollbar {
            display: none;
        }

        .game-option {
            min-width: 100px;
            height: 120px;
            background-color: var(--card-bg);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .game-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .game-option.active {
            border-color: var(--highlight-color);
            background-color: rgba(33, 150, 243, 0.1);
        }

/* أضف هذا في قسم الـ CSS */
.cards {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); /* تصغير حجم البطاقات */
    gap: 10px; /* تقليل المسافة بين البطاقات */
}

.card {
    padding: 10px; /* تقليل الحشو الداخلي */
}

.card h2 {
    font-size: 14px !important; /* تصغير حجم النص */
    margin-bottom: 5px !important;
}

.price {
    font-size: 16px !important; /* تصغير حجم السعر */
}

.buy-button {
    padding: 6px 0 !important; /* تصغير حجم الزر */
    font-size: 12px !important;
}

        .game-icon {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 8px;
        }

        .game-name {
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        .game-banner {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 2px solid var(--highlight-color);
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(33, 150, 243, 0.2);
            cursor: pointer;
        }
        .gem-icon {
            width: 80px;
            height: 50px;
            margin: 0 auto 10px;
             display: block;
        } 

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            border-color: var(--highlight-color);
        }

        .card h2 {
            margin: 0 0 10px 0;
            font-size: 16px;
            color: var(--text-color);
            text-align: center;
        }

        .price {
            font-size: 18px;
            font-weight: bold;
            color: var(--button-bg);
            margin: 5px 0;
            text-align: center;
        }
        

        img {
           -webkit-user-select: none;
           -moz-user-select: none;
           -ms-user-select: none;
           user-select: none;
           pointer-events: none; 
       }


       .card, button {
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
       }
       
       .contest-banner {
    width: 100%;
    border-radius: 12px;
    margin-bottom: 20px;
    border: 2px solid var(--highlight-color);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    transition: transform 0.3s ease;
}

.contest-banner:hover {
    transform: scale(1.02);
}

/* تأثير تدرج لوني على الصورة */
.contest-banner-container {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
}

.contest-banner-container::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
} 

       .method {
            font-size: 12px;
            color: var(--text-color);
            opacity: 0.8;
            margin-bottom: 15px;
            text-align: center;
       }

       .buy-button {
            background-color: var(--button-bg);
            color: white;
            border: none;
            padding: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-size: 14px;
            font-weight: bold;
            transition: background-color 0.3s;
            margin-top: auto;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
       }

       .buy-button:hover {
            background-color: var(--button-hover);
       }

       .payment-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            z-index: 1000;
            padding: 15px;
            box-sizing: border-box;
            overflow-y: auto;
       }

       .payment-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            margin-top: 20px;
            border: 1px solid rgba(33, 150, 243, 0.3);
       }

       .payment-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--text-color);
            border-bottom: 2px solid var(--highlight-color);
            padding-bottom: 10px;
            text-align: center;
       }
       
       /* تحسينات شاشة الدفع */
.payment-card {
    animation: fadeInUp 0.5s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.vodafone-cash-box {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(228, 0, 0, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(228, 0, 0, 0); }
    100% { box-shadow: 0 0 0 0 rgba(228, 0, 0, 0); }
}

/* تحسين مربع رفع الصورة */
.file-upload-btn {
    transition: all 0.3s ease;
    border: 2px dashed var(--highlight-color);
    background-color: rgba(33, 150, 243, 0.05);
}

.file-upload-btn:hover {
    background-color: rgba(33, 150, 243, 0.1);
    transform: translateY(-2px);
}

       .vodafone-cash-box {
            background: rgba(228, 0, 0, 0.1);
            border: 2px dashed var(--vodafone-red);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
       }
       
       .loading-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px;
    width: 0%;
    background-color: var(--highlight-color);
    z-index: 9999;
    transition: width 0.3s ease;
    box-shadow: 0 1px 3px rgba(33, 150, 243, 0.5);
       } 

       .vodafone-number {
            font-size: 22px;
            font-weight: bold;
            color: var(--vodafone-red);
            direction: ltr;
            display: inline-block;
            background: var(--bg-color);
            padding: 5px 15px;
            border-radius: 30px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
       }

       .copy-btn {
            background: var(--vodafone-red);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px 0;
            transition: all 0.3s;
            display: block;
            width: fit-content;
            margin: 0 auto;
       }

       .copy-btn:hover {
            background: #c10000;
            transform: translateY(-2px);
       }

       .payment-steps {
            margin: 20px 0;
            padding-right: 20px;
       }

       .payment-step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            position: relative;
       }

       .step-number {
            background: var(--highlight-color);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 10px;
            flex-shrink: 0;
       }

       .step-content {
            flex-grow: 1;
       }

       .payment-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
       }

       .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
       }

       .form-group label {
            font-weight: bold;
            color: var(--text-color);
            font-size: 14px;
       }

       .form-group input, 
       .form-group select, 
       .form-group textarea {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 16px;
            width: 100%;
            box-sizing: border-box;
       }

       .form-group input:focus, 
       .form-group select:focus, 
       .form-group textarea:focus {
            outline: none;
            border-color: var(--highlight-color);
            box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);
       }

       .error-message {
            color: var(--error-color);
            font-size: 12px;
            margin-top: 3px;
            display: none;
       }

       .file-upload {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
       }

       .file-upload-btn {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
       }

       ./* استبدل أو أضف هذه الأنماط */
.file-upload-btn {
    border: 2px dashed var(--highlight-color);
    background-color: rgba(33, 150, 243, 0.05);
    padding: 30px; /* زيادة المساحة الداخلية */
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    min-height: 150px; /* ارتفاع ثابت */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.file-upload-btn span {
    margin-top: 10px;
}

.file-upload-input {
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.file-name {
    margin-top: 15px;
    font-size: 14px;
    color: var(--text-color);
    text-align: center;
    word-break: break-all; /* لمنع تجاوز النص للمساحة */
}

/* عرض الصورة المختارة بحجم ثابت */
#fileName img {
    max-width: 100%;
    max-height: 200px;
    display: block;
    margin: 10px auto;
    border: 1px solid #ddd;
    border-radius: 5px;
    object-fit: contain; /* للحفاظ على نسبة العرض إلى الارتفاع */
}

       .submit-btn {
            background-color: var(--telegram-color);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
            transition: background-color 0.3s;
            width: 100%;
       }

       .submit-btn:hover {
            background-color: var(--button-hover);
       }

       .submit-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
       }

       .close-payment {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-color);
            z-index: 1001;
       }

       .confirmation-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
       }

       .confirmation-icon {
            font-size: 60px;
            color: var(--success-color);
            margin-bottom: 20px;
       }

       .confirmation-screen h2 {
            color: var(--success-color);
            margin-bottom: 15px;
            font-size: 24px;
       }

       .confirmation-screen p {
            color: var(--text-color);
            margin-bottom: 30px;
            font-size: 16px;
            max-width: 300px;
       }

       .clan-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: none;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
       }

       .clan-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            margin-top: 20px;
       }

       .clan-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--text-color);
            border-bottom: 2px solid var(--highlight-color);
            padding-bottom: 10px;
            text-align: center;
       }

       .clan-image {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid var(--highlight-color);
       }

       .clan-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
       }

       .support-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            box-sizing: border-box;
       }

       .support-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
       }

       .support-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: var(--text-color);
            border-bottom: 2px solid var(--highlight-color);
            padding-bottom: 10px;
            text-align: center;
       }

       .support-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
       }

       .support-name {
            font-weight: bold;
       }

       .support-number {
            direction: ltr;
            display: inline-block;
       }

       .whatsapp-btn {
            background-color: var(--whatsapp-green);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
       }

       .whatsapp-btn:hover {
            background-color: #128C7E;
       }

       .whatsapp-icon {
            width: 16px;
            height: 16px;
       }

       .close-support {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-color);
       }

       .close-clan {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: var(--text-color);
       }

       @media (max-width: 480px) {
       .payment-card {
            padding: 15px;
      
       }
            
       .form-group input, 
       .form-group select, 
       .form-group textarea {
           padding: 10px;
           font-size: 14px;
       }
            
            .payment-title {
                font-size: 20px;
            }
            
            .submit-btn {
                padding: 12px;
                font-size: 15px;
            }
            
            .vodafone-number {
                font-size: 18px;
            }
            
            .controls {
                gap: 5px;
            }
        }

       @media (min-width: 768px) {
            .container {
                max-width: 700px;
            }
            
            .cards {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .card h2 {
                font-size: 18px;
            }
            
            .price {
                font-size: 22px;
            }
            
            .main-title {
                font-size: 26px;
            }
            
            .logo-text {
                font-size: 20px;
            }
       }

       .copy-notification {
           position: fixed;
           bottom: 20px;
           left: 50%;
           transform: translateX(-50%);
           background-color: #4CAF50;
           color: white;
           padding: 12px 24px;
           border-radius: 4px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.2);
           z-index: 1000;
           opacity: 0;
           transition: opacity 0.3s ease;
       }
    
       .copy-notification.show {
           opacity: 1;
       }
       
       body {
           user-select: none;
           -webkit-user-select: none;
           -moz-user-select: none;
           -ms-user-select: none;
       }

       input, textarea, [contenteditable] {
          user-select: text;
          -webkit-user-select: text;
          -moz-user-select: text;
          -ms-user-select: text;
       }
    

       .card {
          -webkit-tap-highlight-color: transparent; 
          tap-highlight-color: transparent; 
          user-select: none; 
       }

      .card:active {
          background-color: inherit !important; 
      }
      .card {
          -webkit-tap-highlight-color: transparent;
          tap-highlight-color: transparent;
      }

      button, .btn {
         -webkit-tap-highlight-color: transparent;
          tap-highlight-color: transparent;
      }
    
      .card:active, 
          button:active, 
          .buy-button:active {
          transform: none !important;
          animation: none !important;
      }

      .card:active, 
         button:active {
         transform: scale(0.97);
         transition: transform 0.1s;
      }
   
      .card:active,        
         button:active {
         transform: scale(0.95);
         transition: transform 0.05s;
      }
      
      /* أضف هذه الأنماط إلى قسم الـ style */

/* تأثيرات للبطاقات عند الضغط */
.card:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
}

/* تحسين أزرار الشراء */
.buy-button {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.buy-button::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    opacity: 0;
    border-radius: 100%;
    transform: scale(1, 1) translate(-50%, -50%);
    transform-origin: 50% 50%;
}

.buy-button:active::after {
    animation: ripple 0.6s ease-out;
}

@keyframes ripple {
    0% {
        transform: scale(0, 0);
        opacity: 1;
    }
    100% {
        transform: scale(20, 20);
        opacity: 0;
    }
}

/* تأثيرات للقوائم */
.menu-item {
    transition: transform 0.2s ease, background-color 0.2s ease;
}

.menu-item:hover {
    transform: translateX(-5px);
    background-color: rgba(33, 150, 243, 0.15);
}

      .card, button {
         user-select: none;
         -webkit-user-select: none;
      }
    
      button, .btn, .card, .menu-item {
         -webkit-tap-highlight-color: transparent !important;
         tap-highlight-color: transparent !important;
      }

      .dark-mode button, 
      .dark-mode .btn, 
      .dark-mode .card, 
      .dark-mode .menu-item {
          -webkit-tap-highlight-color: transparent !important;
          tap-highlight-color: transparent !important;
      }

      .buy-button:hover,
      .menu-item:hover,
      .support-button:hover,
      .clan-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      }
 
      .buy-button:active,
      .menu-item:active,
      .support-button:active,
      .clan-button:active {
           transform: scale(0.98);
           transition: transform 0.05s;
      }
   
      #submitBtn {
          position: relative;
          overflow: hidden;
          transition: all 0.3s ease;
      }

      #submitBtn .loading-spinner {
          display: none;
          width: 20px;
          height: 20px;
          border: 3px solid rgba(255,255,255,0.3);
          border-radius: 50%;
          border-top-color: white;
          animation: spin 1s ease-in-out infinite;
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
      }

      @keyframes spin {
          to { transform: translateY(-50%) rotate(360deg); }
      }

      .form-disabled {
          pointer-events: none;
          opacity: 0.8;
      }

      .contests-screen {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: var(--bg-color);
          display: none;
          flex-direction: column;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          padding: 20px;
          box-sizing: border-box;
      }

      .contests-card {
          background-color: var(--card-bg);
          border-radius: 15px;
          padding: 30px;
          width: 90%;
          max-width: 500px;
          box-shadow: 0 6px 15px rgba(0,0,0,0.1);
          text-align: center;
          border: 1px solid rgba(33, 150, 243, 0.3);
      }
    
      .contests-title {
          font-size: 24px;
          margin-bottom: 20px;
          color: var(--highlight-color);
          border-bottom: 2px solid var(--highlight-color);
          padding-bottom: 10px;
      }

      .contests-content p {
          font-size: 18px;
          color: var(--text-color);
          margin: 15px 0;
      }

      .confirmation-icon.success {
          color: #4CAF50;
      }

      .confirmation-icon.error {
          color: #f44336;
      } 
      
      .close-contests {
          position: absolute;
          top: 15px;
          right: 15px;
          font-size: 24px;
          cursor: pointer;
          background: none;
          border: none;
          color: var(--text-color);
      } 

      .error-screen {
          display: none;
      }

      .error-screen .confirmation-icon {
          color: var(--error-color);
          font-size: 60px;
          margin-bottom: 20px;
      }

      .error-screen h2 {
          color: var(--error-color);
      } 

      .payment-screen,
      .clan-screen,
      .support-screen,
      .contests-screen {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background-color: var(--bg-color);
           z-index: 1000;
           overflow-y: auto;
           padding: 20px;
           box-sizing: border-box;
           display: none;
           flex-direction: column;
      }


.contest-content {
    padding: 0 5px !important; /* تقليل المسافة الجانبية */
}

/* تعديل حجم بانر المسابقات */
.contest-banner {
    height: 120px !important;  /* تصغير الارتفاع */
    max-height: 120px !important;
    object-fit: cover !important;
    margin-bottom: 15px !important;
}


/* لضبط حجم البانر على الشاشات الصغيرة جدًا */
@media (max-width: 360px) {
    .contest-banner {
        height: 100px !important;
        max-height: 100px !important;
    }
    
    .game-banner {
        height: 120px !important;
        max-height: 120px !important;
    }
}

.section-header {
    margin-bottom: 5px !important;
    padding-bottom: 5px !important;
} 

@media (max-width: 480px) {
    .contest-rules li {
        font-size: 12px !important;
        line-height: 1.4 !important;
    }
    
    .section-title {
        font-size: 14px !important;
    }
    
    .contest-button {
        font-size: 13px !important;
        padding: 8px 10px !important;
    }
}
      body.modal-open {
          overflow: hidden;
          position: fixed;
          width: 100%;
          height: 100%;
      }

      .container {
          max-width: 100%;
          margin: 0 auto;
          padding: 15px;
          position: relative;
          z-index: 1;
      }

      .cards {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          gap: 15px;
          position: relative;
          z-index: 1;
      }

      @media (min-width: 768px) {
          .container {
          max-width: 700px;
      }
    
      .cards {
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    } 

      @media (max-width: 480px) {
      .payment-screen,
      .clan-screen,
      .support-screen,
      .contests-screen {
          padding: 10px;
    
      }

      #confirmationMessage {
          text-align: center;
          line-height: 1.6;
         margin: 15px 0;
      }
    
      .order-number {
          color: var(--highlight-color);
          font-weight: bold;
          font-size: 1.2em;
      }

      .payment-screen,
      .confirmation-screen,
      .support-screen,
      .clan-screen,
      .contests-screen {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          overflow-y: auto;
          overscroll-behavior: contain; 
          touch-action: pan-y; 
         -webkit-overflow-scrolling: touch;
      }
      
      /* تأثير الموجات على الأزرار */
.btn-effect {
    position: relative;
    overflow: hidden;
}

.btn-effect:after {
    content: "";
    display: block;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    pointer-events: none;
    background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
    background-repeat: no-repeat;
    background-position: 50%;
    transform: scale(10, 10);
    opacity: 0;
    transition: transform .5s, opacity 1s;
}

.btn-effect:active:after {
    transform: scale(0, 0);
    opacity: .3;
    transition: 0s;
}

/* ظهور شاشة الدفع بسلاسة */
.payment-screen {
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* تأثير اهتزاز عند الخطأ */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-5px); }
    40%, 80% { transform: translateX(5px); }
}

.error-message {
    animation: shake 0.5s;
}

/* تأثير موجات عند الضغط */
.buy-button {
    position: relative;
    overflow: hidden;
}

.buy-button:after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    opacity: 0;
    border-radius: 100%;
    transform: scale(1, 1) translate(-50%, -50%);
    transform-origin: 50% 50%;
}

.buy-button:active:after {
    animation: ripple 0.6s ease-out;
}

@keyframes ripple {
    0% {
        transform: scale(0, 0);
        opacity: 1;
    }
    100% {
        transform: scale(20, 20);
        opacity: 0;
    }
}
.card {
    background-color: var(--card-bg);
    border-radius: 12px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    border: 1px solid rgba(33, 150, 243, 0.2);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
    border-color: var(--highlight-color);
}

.card:active {
    transform: scale(0.98) !important;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2) !important;
}

/* إزالة أي أنماط تسبب الاختفاء */
.card:active:after,
.card:active:before {
    display: none !important;
} 

/* أضف للـ CSS */
.card.featured {
    position: relative;
    overflow: hidden;
}

.card.featured::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        to bottom right,
        rgba(255,255,255,0) 45%,
        rgba(255,255,255,0.8) 50%,
        rgba(255,255,255,0) 55%
    );
    animation: shine 3s infinite;
    opacity: 0.7;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
}

/* أضف هذا في قسم الـ CSS */
.card.featured {
    position: relative;
    border: 2px solid transparent;
    background: linear-gradient(var(--card-bg), var(--card-bg)), 
                linear-gradient(to right, #FFD700, #D4AF37, #FFD700);
    background-origin: padding-box, border-box;
    background-clip: padding-box, border-box;
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
    overflow: hidden;
}

.card.featured::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        to bottom right,
        rgba(255, 215, 0, 0) 45%,
        rgba(255, 215, 0, 0.5) 50%,
        rgba(255, 215, 0, 0) 55%
    );
    animation: shine 3s infinite;
    opacity: 0.7;
}

.card.featured::after {
    content: 'VIP';
    position: absolute;
    top: 80px;
    left: 58px;
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    font-weight: bold;
    padding: 3px 12px;
    border-radius: 15px;
    font-size: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    z-index: 2;
}

@keyframes shine {
    0% { transform: translateX(-100%) translateY(-100%) rotate(30deg); }
    100% { transform: translateX(100%) translateY(100%) rotate(30deg); }
}

.card.featured .price {
    color: #D4AF37;
    font-weight: bold;
    text-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

.card.featured .buy-button {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    font-weight: bold;
    border: none;
    position: relative;
    overflow: hidden;
}

.card.featured .buy-button::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255,255,255,0.2);
    transform: rotate(30deg);
    animation: buttonShine 4s infinite;
}

@keyframes buttonShine {
    0% { transform: translateX(-100%) rotate(30deg); }
    100% { transform: translateX(100%) rotate(30deg); }
}

/* خلفية متحركة للأزرار */
.buy-button {
    background: linear-gradient(90deg, #6a11cb, #2575fc, #6a11cb);
    background-size: 200% auto;
    transition: 0.5s;
}

.buy-button:hover {
    background-position: right center;
}
/* تطبيق التأثير على الأزرار */
.buy-button, .submit-btn, .whatsapp-btn, .copy-btn {
    @extend .btn-effect;
}

/* تأكد من أن هذه الأنماط موجودة */
.card {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    transform: scale(1);
}

.card:active {
    transform: scale(0.98);
    opacity: 1 !important;
    visibility: visible !important;
    display: flex !important;
}

/* أضف للـ CSS */
.skeleton-loading {
    position: relative;
    overflow: hidden;
    background: linear-gradient(90deg, var(--card-bg) 25%, rgba(255,255,255,0.1) 50%, var(--card-bg) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
}

@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.skeleton {
    background-color: var(--card-bg);
    border-radius: 4px;
    margin-bottom: 10px;
}

.skeleton.title {
    width: 60%;
    height: 20px;
}

.skeleton.price {
    width: 40%;
    height: 25px;
}

.skeleton.button {
    width: 100%;
    height: 35px;
    margin-top: auto;
}

/* أضف هذه الأنماط في أعلى قسم الـ CSS */
.card {
    touch-action: pan-y; /* يسمح بالتمرير العمودي فقط */
    transform: none !important;
    transition: none !important;
    will-change: transform;
    backface-visibility: visible;
    user-select: none;
    -webkit-user-drag: none;
}

.cards {
    overflow: visible !important;
    touch-action: pan-y;
}

/* أضف للـ CSS */
.badge {
    position: absolute;
    top: -10px;
    left: -10px;
    background-color: var(--vodafone-red);
    color: white;
    border-radius: 50%;
    width: 25px;
    height: 25px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    z-index: 1;
}

/* تأثير ذهبي متحرك */
.card.featured .buy-button::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255,255,255,0.2);
    transform: rotate(30deg);
    animation: buttonShine 3s infinite;
    z-index: 1;
}

@keyframes buttonShine {
    0% { transform: translateX(-100%) rotate(30deg); }
    100% { transform: translateX(100%) rotate(30deg); }
}

/* تأثير حدود ذهبية */
.card.featured .buy-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 2px solid transparent;
    border-image: linear-gradient(to right, #D4AF37, #FFD700) 1;
    animation: borderPulse 2s infinite;
    z-index: 0;
}

@keyframes borderPulse {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
}

/* تحسينات إضافية للوضع الليلي */
.dark-mode .card {
    border: 1px solid rgba(66, 165, 245, 0.3);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.dark-mode .payment-card,
.dark-mode .clan-card,
.dark-mode .support-card {
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
}

.dark-mode .file-upload-btn {
    border-color: rgba(66, 165, 245, 0.5);
    background-color: rgba(66, 165, 245, 0.05);
}

.dark-mode .file-upload-btn:hover {
    background-color: rgba(66, 165, 245, 0.1);
}

/* تأثير ظهور البطاقات بشكل متتالي */
.cards {
    perspective: 1000px;
}

.card {
    opacity: 0;
    transform: translateY(20px);
    animation: cardAppear 0.5s forwards;
}

@keyframes cardAppear {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* أضف هذا لتأثير الجواهر */
.card.featured .gem-icon {
    position: relative;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-10px) rotate(5deg); }
}

.card.featured .gem-icon::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at center, 
        rgba(255,215,0,0.8) 0%, 
        transparent 70%);
    animation: pulse 2s infinite alternate;
    border-radius: 50%;
}

@keyframes pulse {
    0% { transform: scale(0.8); opacity: 0.5; }
    100% { transform: scale(1.2); opacity: 0.8; }
}

/* أضف هذا للوضع الليلي */
.dark-mode .card.featured {
    background: linear-gradient(var(--card-bg), var(--card-bg)), 
                linear-gradient(to right, #D4AF37, #FFD700, #D4AF37);
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.5);
}

.dark-mode .card.featured .price {
    color: #FFD700;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
}

.dark-mode .card.featured .buy-button {
    background: linear-gradient(to right, #8B7500, #FFD700);
    color: #111;
}

/* تأخير ظهور البطاقات بشكل متتالي */
.card:nth-child(1) { animation-delay: 0.1s; }
.card:nth-child(2) { animation-delay: 0.2s; }
.card:nth-child(3) { animation-delay: 0.3s; }
.card:nth-child(4) { animation-delay: 0.4s; }
.card:nth-child(5) { animation-delay: 0.5s; }
.card:nth-child(6) { animation-delay: 0.6s; }
.card:nth-child(7) { animation-delay: 0.7s; }
.card:nth-child(8) { animation-delay: 0.8s; }
.card:nth-child(9) { animation-delay: 0.9s; }
.card:nth-child(10) { animation-delay: 1s; }

/* أنماط اللوجو المتحرك */
.logo {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 2px solid var(--highlight-color);
    position: relative;
    overflow: hidden;
}

.logo-inner {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: url('https://i.postimg.cc/fRjpkyTb/IMG.jpg');
    background-size: cover;
    background-position: center;
    animation: logoFloat 6s ease-in-out infinite;
}

@keyframes logoFloat {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-5px) rotate(2deg); }
}

/* إصلاح تخصصي للصورة في البطاقات المميزة */
.card.featured .file-upload-btn,
.card.featured .file-name,
.card.featured #fileName img {
    all: initial; /* إعادة ضبط كل الأنماط */
    display: block !important;
    max-width: 100% !important;
    height: auto !important;
    font-family: 'Tajawal', sans-serif !important;
    color: var(--text-color) !important;
}

/* إعادة تعيين أنماط رفع الملف للبطاقات المميزة */
.card.featured .form-group {
    transform: none !important;
    animation: none !important;
}

.card.featured .file-upload {
    position: relative;
    overflow: visible;
    background: none;
}

/* تعديلات شاشة المسابقات */
.contests-card {
    padding: 15px !important; /* تقليل الحشو */
    max-width: 95% !important; /* جعلها تأخذ مساحة أقل */
}

.contest-section {
    padding: 10px !important;
    margin-bottom: 10px !important;
}

.section-title {
    font-size: 16px !important; /* تصغير حجم العناوين */
}

.contest-rules li {
    font-size: 14px !important; /* تصغير حجم النقاط */
    margin-bottom: 5px !important;
    padding-right: 15px !important; /* تقليل المسافة */
}

.contest-button {
    padding: 10px 15px !important;
    font-size: 14px !important;
}

.button-icon {
    width: 16px !important;
    height: 16px !important;
}

.card.featured .file-upload-btn {
    border: 2px dashed var(--highlight-color) !important;
    background: rgba(33, 150, 243, 0.05) !important;
    padding: 20px !important;
    margin: 10px 0 !important;
}

.card.featured #fileName img {
    max-height: 150px !important;
    width: auto !important;
    display: block !important;
    margin: 10px auto !important;
    border: 1px solid #ddd !important;
    border-radius: 5px !important;
}

@media (max-width: 480px) {
    .support-item {
        flex-direction: column; /* عرض العناصر عموديًا */
        align-items: flex-start; /* محاذاة للنصوص */
        padding: 8px 0; /* تقليل المسافة الرأسية */
    }

    .support-name, .support-number {
        font-size: 14px; /* تصغير حجم الخط */
    }

    .whatsapp-btn {
        margin-top: 5px; /* إضافة مسافة فوق الزر */
        width: 100%; /* جعل الزر يأخذ العرض بالكامل */
        justify-content: center; /* توسيط النص والآيقونة */
    }
}


@media (max-width: 480px) {
    .payment-card {
        padding: 15px;
    }

    .payment-title {
        font-size: 20px;
    }

    .form-group input, 
    .form-group select, 
    .form-group textarea {
        padding: 10px;
        font-size: 14px;
    }

    .submit-btn {
        padding: 12px;
        font-size: 15px;
    }

    .vodafone-number {
        font-size: 18px;
    }
}

.payment-screen,
.support-screen,
.clan-screen,
.contests-screen {
    overscroll-behavior: contain; /* منع التمرير الزائد */
    -webkit-overflow-scrolling: touch; /* تحسين التمرير على iOS */
} 

.vodafone-cash-box {
    border: 2px solid var(--vodafone-red) !important;
    animation: none !important; /* إيقاف أي تأثيرات متحركة */
    transform: none !important; /* إزالة أي تحويلات */
    box-shadow: none !important; /* إزالة أي ظلال متحركة */
    padding: 15px;
    margin: 15px 0;
    border-radius: 10px;
    background: rgba(228, 0, 0, 0.05);
    position: static !important; /* تأكيد ثبات الموضع */
}

/* إذا كنت تريد تأثيرًا بسيطًا بدون تغيير الحجم */
.vodafone-cash-box:hover {
    background: rgba(228, 0, 0, 0.1);
    transition: background 0.3s ease;
}

.vodafone-cash-box {
    border: 2px solid var(--vodafone-red);
    border-radius: 10px;
    padding: 15px;
    margin: 15px 0;
    background: rgba(228, 0, 0, 0.05);
    position: relative;
    overflow: hidden;
    animation: gentlePulse 4s infinite;
}

@keyframes gentlePulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(228, 0, 0, 0.1); }
    50% { box-shadow: 0 0 0 10px rgba(228, 0, 0, 0); }
} 

.vodafone-cash-box {
    position: relative;
    overflow: hidden;
}

.vodafone-cash-box::before {
    content: 'Vodafone';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 80px;
    font-weight: bold;
    color: rgba(212, 175, 55, 0.1);
    z-index: 0;
    pointer-events: none;
} 

/* إصلاح سلوك البطاقات الأساسي */
.cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
    overflow: visible !important; /* تأكيد إظهار كل المحتوى */
    touch-action: pan-y; /* تمكين التمرير العمودي فقط */
    will-change: transform; /* تحسين الأداء */
}

.card {
    touch-action: manipulation; /* تحسين التفاعل على الشاشات التي تعمل باللمس */
    transform: none !important;
    transition: none !important;
    will-change: transform;
    backface-visibility: visible;
}

.card.featured {
    isolation: isolate; 
} 

.card {
    user-select: none;
    -webkit-user-drag: none; 
    transform: none !important;
    transition: transform 0.2s ease;
}

@media (max-width: 768px) {
    .cards {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        overflow-x: hidden;
    }
}

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  flex-direction: column;
}

.loader-container {
  text-align: center;
}

.modern-loader {
  width: 80px;
  height: 80px;
  border: 6px solid rgba(106, 17, 203, 0.2);
  border-radius: 50%;
  border-top-color: #6a11cb;
  animation: spin 1.2s linear infinite;
  position: relative;
}

.modern-loader::before {
  content: '';
  position: absolute;
  top: -6px;
  left: -6px;
  right: -6px;
  bottom: -6px;
  border: 6px solid transparent;
  border-radius: 50%;
  border-top-color: #2575fc;
  animation: spin 1.6s linear infinite;
}

.modern-loader::after {
  content: '';
  position: absolute;
  top: -12px;
  left: -12px;
  right: -12px;
  bottom: -12px;
  border: 6px solid transparent;
  border-radius: 50%;
  border-top-color: #ff4d4d;
  animation: spin 2s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.loading-text {
  margin-top: 20px;
  font-size: 18px;
  color: #333;
  font-weight: bold;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 1; }
}

body.loading {
  overflow: hidden;
}

body.loading::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: inherit;
  z-index: 9998;
}

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(8px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s;
}

.loading-overlay.active {
  opacity: 1;
  visibility: visible;
}

.modern-loader {
  width: 80px;
  height: 80px;
  border: 6px solid rgba(106, 17, 203, 0.2);
  border-radius: 50%;
  border-top-color: #6a11cb;
  animation: spin 1.2s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* أنماط شاشة التحميل */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.loading-overlay.active {
    opacity: 1;
    visibility: visible;
}

.loader-container {
    text-align: center;
    color: white;
}

.modern-loader {
    width: 80px;
    height: 80px;
    border: 6px solid rgba(33, 150, 243, 0.2);
    border-radius: 50%;
    border-top-color: var(--highlight-color);
    animation: spin 1.2s linear infinite;
    position: relative;
    margin: 0 auto 20px;
}

.modern-loader::before {
    content: '';
    position: absolute;
    top: -6px;
    left: -6px;
    right: -6px;
    bottom: -6px;
    border: 6px solid transparent;
    border-radius: 50%;
    border-top-color: rgba(33, 150, 243, 0.5);
    animation: spin 1.6s linear infinite;
}

.modern-loader::after {
    content: '';
    position: absolute;
    top: -12px;
    left: -12px;
    right: -12px;
    bottom: -12px;
    border: 6px solid transparent;
    border-radius: 50%;
    border-top-color: rgba(33, 150, 243, 0.3);
    animation: spin 2s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-text {
    margin-top: 20px;
    font-size: 18px;
    color: white;
    font-weight: bold;
    animation: pulse 1.5s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
}

.dark-mode .loading-overlay {
    background: rgba(0, 0, 0, 0.85);
}

.dark-mode .modern-loader {
    border-top-color: var(--button-bg);
}

.game-banner {
    width: 100%;
    height: 180px;
    object-fit: cover;
    display: block; /* تأكد من ظهوره */
}

.cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
    opacity: 1 !important; /* تأكد من الظهور */
    visibility: visible !important;
} 

.dark-mode .modern-loader::before {
    border-top-color: rgba(66, 165, 245, 0.5);
}


/* تأكد من وجود هذه الأنماط */
.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg-color);
    backdrop-filter: blur(10px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.5s ease;
    pointer-events: none; /* يمنع التفاعل أثناء التحميل */
}

/* أضف هذا للوضع الداكن الافتراضي */
body {
    background-color: #121212;
    color: #f1f1f1;
}

/* تأكد من أن هذه المتغيرات للوضع الداكن هي الافتراضية */
:root {
    --bg-color: #121212;
    --text-color: #f1f1f1;
    --card-bg: #1e1e1e;
    /* بقية متغيرات الوضع الداكن... */
}

/* إضافة هذه الأنماط إلى قسم الـ CSS */
.contest-timer {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-weight: bold;
    box-shadow: 0 4px 8px rgba(212, 175, 55, 0.3);
}

.timer-icon {
    font-size: 20px;
}

.timer-text {
    font-size: 16px;
}

#countdown {
    font-weight: bold;
    color: #000;
}

/* تحسين أقسام المسابقة */
.contest-section {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 15px;
    margin-bottom: 15px;
    border-left: 4px solid var(--highlight-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.contest-section:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

.section-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    border-bottom: 1px solid rgba(33, 150, 243, 0.2);
    padding-bottom: 8px;
}

.section-icon {
    width: 24px;
    height: 24px;
    object-fit: contain;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
}

.section-title {
    margin: 0;
    font-size: 18px;
    color: var(--highlight-color);
    font-weight: bold;
}

.contest-rules {
    padding-right: 20px;
    margin: 10px 0 0 0;
    list-style-type: none;
}

.contest-rules li {
    margin-bottom: 10px;
    position: relative;
    padding-right: 25px;
    line-height: 1.6;
}

.contest-rules li:before {
    content: "•";
    color: var(--highlight-color);
    font-weight: bold;
    position: absolute;
    right: 0;
}

/* تحسين زر المشاركة */
.contest-button {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-weight: bold;
    width: 100%;
    margin-top: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(212, 175, 55, 0.3);
}

.contest-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 12px rgba(212, 175, 55, 0.4);
}

.contest-button:active {
    transform: scale(0.98);
}

.button-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;
}

/* تأثيرات للوضع الداكن */
.dark-mode .contest-section {
    border-left: 4px solid var(--button-bg);
    background: var(--card-bg);
}

.dark-mode .contest-rules li:before {
    color: var(--button-bg);
}

.dark-mode .contest-button {
    background: linear-gradient(to right, #8B7500, #FFD700);
    color: #111;
}

// أضف هذه الخاصية لصورة الخلفية
.parallax-bg {
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    height: 100vh;
    position: relative;
}

/* ستايل الشاشة المميزة */
.account-confirm {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border: 2px solid #D4AF37;
}

.premium {
    color: #D4AF37;
    font-size: 60px;
}

.premium-note {
    color: #D4AF37;
    font-weight: bold;
    margin: 10px 0;
}

.premium-btn {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
}

.logo-container {
    cursor: pointer;
    transition: transform 0.3s;
}

.logo-container:active {
    transform: scale(0.95);
} 

// HTML مثال
// أضف هذه الخاصية لصورة الخلفية
.parallax-bg {
    background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;
    height: 100vh;
    position: relative;
}

.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    color: white;
    font-family: 'Tajawal', sans-serif;
}

.loader {
    border: 5px solid #f3f3f3;
    border-top: 5px solid #3498db;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin-bottom: 15px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
} 

.modern-loader {
    width: 60px;
    height: 60px;
    border: 5px solid rgba(33, 150, 243, 0.2);
    border-radius: 50%;
    border-top-color: var(--highlight-color);
    animation: spin 1s linear infinite;
}

.loading-text {
    margin-top: 20px;
    color: var(--text-color);
    font-size: 18px;
    font-weight: bold;
}

/* يزيل التأثير الزرقاء عند النقر على جميع العناصر */
* {
    -webkit-tap-highlight-color: transparent;
    -moz-tap-highlight-color: transparent;
    tap-highlight-color: transparent;
    outline: none !important;
}

/* حل إضافي لعناصر محددة إن لزم الأمر */
button, a, .card, .game-option, .menu-item {
    -webkit-tap-highlight-color: rgba(0,0,0,0) !important;
}

/* شاشة تأكيد الشحن عبر الحساب - الوضع الداكن */
.account-confirm-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(15px);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
    box-sizing: border-box;
    animation: fadeIn 0.4s ease-out;
}

.account-confirm-card {
    background: linear-gradient(145deg, #1a1a1a, #2a2a2a);
    border-radius: 20px;
    border: 1px solid rgba(66, 165, 245, 0.3);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
    width: 100%;
    max-width: 500px;
    padding: 30px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.account-confirm-card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        to bottom right,
        rgba(66, 165, 245, 0) 45%,
        rgba(66, 165, 245, 0.1) 50%,
        rgba(66, 165, 245, 0) 55%
    );
    animation: shine 4s infinite;
    opacity: 0.6;
}

.premium-badge {
    font-size: 60px;
    color: #D4AF37;
    margin-bottom: 20px;
    text-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
    animation: pulse 2s infinite;
}

@media (max-width: 480px) {
    .cards {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); /* بطاقة واحدة في الصف */
        gap: 10px; /* تقليل المسافة بين البطاقات */
    }

    .card {
        padding: 10px; /* تقليل الحشو الداخلي */
    }

    .card h2 {
        font-size: 14px !important; /* تصغير حجم النص */
        margin-bottom: 5px !important;
    }

    .price {
        font-size: 16px !important; /* تصغير حجم السعر */
    }

    .buy-button {
        padding: 6px 0 !important; /* تصغير حجم الزر */
        font-size: 12px !important;
    }
}

.account-confirm-title {
    font-size: 28px;
    font-weight: 700;
    color: #D4AF37;
    margin-bottom: 15px;
}

.account-confirm-text {
    color: #e0e0e0;
    font-size: 16px;
    line-height: 1.6;
    margin-bottom: 25px;
}

.premium-note {
    color: #D4AF37;
    font-weight: 600;
    font-size: 14px;
    margin: 20px 0;
    padding: 10px;
    background: rgba(212, 175, 55, 0.1);
    border-radius: 8px;
    border-left: 3px solid #D4AF37;
}

.premium-btn {
    background: linear-gradient(to right, #D4AF37, #FFD700);
    color: #000;
    font-weight: 700;
    padding: 15px 30px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-size: 16px;
    margin-top: 20px;
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.premium-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
}

.premium-btn:active {
    transform: scale(0.98);
}

/* تأثيرات الحركة */
@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* للهواتف */
@media (max-width: 768px) {
    .account-confirm-card {
        padding: 25px 20px;
    }
    
    .premium-badge {
        font-size: 50px;
    }
    
    .account-confirm-title {
        font-size: 24px;
    }
}


@keyframes spin {
    to { transform: rotate(360deg); }
}

.dark-mode .modern-loader::after {
    border-top-color: rgba(66, 165, 245, 0.3);
}

.game-banner {
    position: relative;
}

.game-banner::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 100%);
    border-radius: 12px;
} 

.loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(10px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.loading-overlay.active {
    opacity: 1;
}

.modern-loader {
    width: 60px;
    height: 60px;
    border: 5px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    border-top-color: #2196F3;
    animation: spin 1s linear infinite;
}

.loading-text {
    margin-top: 20px;
    color: white;
    font-size: 18px;
    font-family: 'Tajawal', sans-serif;
}
.coming-soon {
    text-align: center;
    margin: 70px auto 40px; /* مسافة من البانر ومن الأسفل */
    color: var(--highlight-color);
    font-size: 25px; /* تصغير حجم الخط */
    font-weight: 600; /* وزن متوسط */
    white-space: nowrap;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 65px;
    padding: 0;
    background: transparent;
}

/* تأثير بسيط لو عايزه */
.coming-soon span:first-child {
    font-size: 1.3em; /* حجم الأيقونة */
    opacity: 0.8;
} 

/* لو عايز تأثير أنيق */
.coming-soon::before {
    content: "";
    position: absolute;
    bottom: -15px;
    left: 25%;
    width: 50%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--highlight-color), transparent);
    opacity: 0.3;
} 

.buy-button {
    position: relative;
    overflow: hidden;
}

.card.featured {
    position: relative;
    border: 2px solid transparent;
    background: linear-gradient(var(--card-bg), var(--card-bg)), 
                linear-gradient(to right, #FFD700, #D4AF37, #FFD700);
    background-clip: padding-box, border-box;
    box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
}
 

.buy-button:after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    opacity: 0;
    border-radius: 100%;
    transform: scale(1, 1) translate(-50%, -50%);
}
.buy-button:active:after {
    animation: ripple 0.6s ease-out;
}
@keyframes ripple {
    0% { transform: scale(0, 0); opacity: 1; }
    100% { transform: scale(20, 20); opacity: 0; }
} 

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* للوضع الليلي */
.dark-mode .loading-overlay {
    background: rgba(0, 0, 0, 0.9);
}

.dark-mode .modern-loader {
    border-top-color: #42A5F5;
} 

.progressive-load {
    filter: blur(5px);
    transition: filter 0.5s;
}

.progressive-load.loaded {
    filter: blur(0);
}

/* صورة placeholder صغيرة الحجم */
.placeholder-low-quality {
    width: 100%;
    height: 180px;
    background: #f0f0f0;
} 

    </style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-modern-click-box-check-1120.mp3" preload="auto"></audio>

</head>
<body>

    <header>
    
    <!-- في قسم <head> -->
<link rel="preload" href="https://i.postimg.cc/3wSWf4cH/e68809ee31fcb80ce44c0274331a2776.jpg" as="image" id="deltaForceBannerPreload">
    
<div class="loading-overlay" id="loadingOverlay">
    <div class="loader-container">
        <div class="modern-loader"></div>
        <div class="loading-text">جاري التحميل...</div>
    </div>
</div>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        
<div class="logo-container" onclick="toggleDarkMode()">
    <div class="logo" style="background-image: url('https://i.postimg.cc/x19YZsDq/IMG.jpg'); border: none;"></div>
    <div class="logo-text"><span class="highlight">شوبت بلاي</span></div>
</div>
           
            <div class="menu-container">
    <button class="menu-button" onclick="toggleMenu()">
        <div class="menu-line"></div>
        <div class="menu-line"></div>
        <div class="menu-line"></div>
    </button>
    
    <div class="menu-dropdown">
        <div class="menu-title">القائمه</div>
        
        <div class="menu-item" onclick="showClanScreen()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
            </svg>
            <span>انضمام للكلان</span>
        </div>
        
        <div class="menu-item" onclick="showSupportScreen()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
            </svg>
            <span>الدعم الفني</span>
        </div>

        <div class="menu-item" onclick="showContestsScreen()">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"/>
            </svg>
                    <span>المسابقات <span class="badge">جديد</span></span>
                </div>
            </div>
        </div>
    </header>
    
    </header>

    <div class="container">
        <h1 class="main-title">متجر الألعاب <span>بأسعار مميزة</span></h1>
        
        <!-- قسم اختيار اللعبة -->
        <div class="game-selector" id="gameSelector">
            <!-- سيتم ملؤه بالخيارات عبر الجافاسكريبت -->
        </div>
        
        <!-- صورة بانر اللعبة المختارة -->
        <img src="" alt="صورة اللعبة" class="game-banner" id="gameBanner">
        
        <!-- بطاقات المنتجات حسب اللعبة المختارة -->
        <div class="cards" id="productsContainer">
            <!-- سيتم ملؤه بالمنتجات عبر الجافاسكريبت -->
        </div>
    </div>


    <div class="payment-screen" id="paymentScreen">
        <button class="close-payment" onclick="hidePayment()">✕</button>
        <div class="payment-card">
            <h2 class="payment-title">إتمام عملية الشراء</h2>
            
            <div class="vodafone-cash-box">
                <h3>الدفع عبر فودافون كاش</h3>
                <p>قم بالتحويل إلى الرقم التالي:</p>
                <div class="vodafone-number" id="vodafoneNumber">01007278137</div>
                
                <p style="margin-top: 10px;">استخدمه لشحن عبر الأيدي</p>
            </div>

            <div class="payment-steps">
                <div class="payment-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>قم بالتحويل</strong>
                        <p>استخدم الرقم المكتوب للتحويل قبل اتمام الدفع</p>
                    </div>
                </div>
                <div class="payment-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>أدخل البينات المطلوبه</strong>
                        <p>املأ البينات المطلوبه بلأسفل</p>
                    </div>
                </div>
                <div class="payment-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>ضع صوره اثبات التحويل</strong>
                        <p>لضمان نجاح طلبك اسرع</p>
                    </div>
                </div>
            </div>

            <form class="payment-form" id="paymentForm">
                <input type="hidden" id="productNameInput">
                <input type="hidden" id="productPriceInput">
                <input type="hidden" id="gameNameInput">
                
                <div class="form-group">
                    <label for="playerName">اسم اللاعب في اللعبة:</label>
                    <input type="text" id="playerName" required>
                    <div class="error-message" id="playerNameError">يجب إدخال اسم اللاعب</div>
                </div>
                
                <div class="form-group">
                    <label for="playerId">الأيدي الخاص بك:</label>
                    <input type="text" id="playerId" required minlength="8" maxlength="13" pattern="[0-9]+">
                    <div class="error-message" id="playerIdError">يرجي التحقق من الأيدي</div>
                </div>
                
                <div class="form-group">
                    <label for="phoneNumber">رقم الهاتف</label>
                    <div style="display: flex; align-items: center;">
                        <input type="tel" id="phoneNumber" style="border-radius: 0 8px 8px 0; flex-grow: 1;" placeholder="01XXXXXXXXX">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="transactionNumber">رقم التحويل في فودافون كاش:</label>
                    <input type="text" id="transactionNumber" required>
                    <div class="error-message" id="transactionError">يجب إدخال رقم التحويل</div>
                </div>
                
                <div class="form-group">
                    <label for="screenshot">صورة إثبات التحويل:</label>
                    <div class="file-upload">
                        <label class="file-upload-btn">
                            <span>اضغط لرفع صورة التحويل</span>
                            <input type="file" id="screenshot" accept="image/*" required class="file-upload-input" onchange="showFileName(this)">
                        </label>
                        <div class="file-name" id="fileName">لم يتم اختيار صورة</div>
                    </div>
                    <div class="error-message" id="screenshotError">يجب رفع صورة التحويل</div>
                </div>
                
                <button type="submit" class="submit-btn" id="submitBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                    </svg>
                    تأكيد الطلب
                </button>
            </form>
        </div>
    </div>

<!-- شاشة التأكيد العادية -->
<div class="confirmation-screen" id="confirmationScreen">
    <div class="confirmation-icon success">✓</div>
    <h2>تم استلام طلبك بنجاح!</h2>
    <p>عاده مايستغرق الامر بين دقائق او ساعات حسب الضغط</p>
    <button class="buy-button" onclick="hideConfirmation()">العودة إلى المتجر</button>
</div>

<!-- شاشة التأكيد المميزة للشحن عبر الحساب -->
<div class="confirmation-screen account-confirm" id="accountConfirmationScreen">
    <div class="confirmation-icon premium"></div>
    <h2>تم استلام طلبك</h2>
    <p>سيتواصل معك تراسيند مخصص لشحن طلبك</p>
    <div class="premium-note">(من الساعه 7:00 مساء الي اوقات محدده)</div>
    <button class="buy-button premium-btn" onclick="hideConfirmation()">العوده للمتجر</button>
</div>

<div class="confirmation-screen error-screen" id="errorScreen">
    <div class="confirmation-icon error">✕</div>
    <h2>فشل إرسال الطلب!</h2>
    <p id="errorMessage"></p>
    <button class="buy-button" onclick="hideError()">المحاولة مرة أخرى</button>
</div>

    <!-- شاشة الدعم الفني -->
    <div class="support-screen" id="supportScreen">
        <button class="close-support" onclick="hideSupportScreen()">✕</button>
        <div class="support-card">
            <h2 class="support-title">الدعم الفني</h2>
            
            <div class="support-item">
                <div>
                    <div class="support-name">كَوُبّـــــــرا</div>
                    <div class="support-number">+201559022132</div>
                </div>
                <button class="whatsapp-btn" onclick="openWhatsApp('201505977367')">
                    <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="white">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                    </svg>
                    واتساب
                </button>
            </div>
            
            <div class="support-item">
                <div>
                    <div class="support-name">كويـــــــّن</div>
                    <div class="support-number">+201070405848</div>
                </div>
                <button class="whatsapp-btn" onclick="openWhatsApp('201070405848')">
                    <svg class="whatsapp-icon" viewBox="0 0 24 24" fill="white">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                    </svg>
                    واتساب
                </button>
            </div>
        </div>
    </div>

    <!-- شاشة الكلان -->
    <div class="clan-screen" id="clanScreen">
        <button class="close-clan" onclick="hideClanScreen()">✕</button>
        <div class="clan-card">
            <h2 class="clan-title">انضمام للكلان</h2>
            <img src="https://i.postimg.cc/T1CQfvYt/IMG-20250705-WA0108.jpg" alt="صورة الكلان" class="clan-image">
            
            <form class="clan-form" id="clanForm">
                <div class="form-group">
                    <label for="clanPlayerName">اسم اللاعب في فري فاير:</label>
                    <input type="text" id="clanPlayerName" required>
                    <div class="error-message" id="clanPlayerNameError">يجب إدخال اسم اللاعب</div>
                </div>
                
                <div class="form-group">
                    <label for="clanPlayerId">الأيدي الخاص بك:</label>
                    <input type="text" id="clanPlayerId" required minlength="8" maxlength="13" pattern="[0-9]+">
                    <div class="error-message" id="clanPlayerIdError">يرجي التحقق من الأيدي</div>
                </div>
                
                <div class="form-group">
                    <label for="clanPhoneNumber">رقم الهاتف </label>
                    <input type="tel" id="clanPhoneNumber" placeholder="01XXXXXXXXX">
                </div>
                
                <button type="submit" class="submit-btn" id="clanSubmitBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                    </svg>
                    إرسال طلب الانضمام
                </button>
            </form>
        </div>
    </div>

    <!-- شاشة المسابقات -->
    <div class="contests-screen" id="contestsScreen">
        <button class="close-contests" onclick="hideContestsScreen()">✕</button>
        <div class="contests-card">
            <h2 class="contests-title">مسابقة فري فاير الأسبوعية</h2>
            
            <img src="https://i.postimg.cc/3NpRwLJK/f6b1bf4d93d61cca87cb4be2ae727193.jpg" alt="مسابقة فري فاير" class="contest-banner">
            
            <div class="contest-content">
                <div class="contest-section">
                    <div class="section-header">
                        <img src="https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png" class="section-icon" width="24">
                        <h3 class="section-title">الشحن:</h3>
                    </div>
                    <p class="section-text">عبر الحساب يمكنك اسنخدام ربط</p>
                </div>
                
                <div class="contest-section">
                    <div class="section-header">
                        <img src="https://i.postimg.cc/x19YZsDq/IMG.jpg" class="section-icon" width="24">
                        <h3 class="section-title">الموعد:</h3>
                    </div>
                    <p class="section-text"> يوم الأربعاء - 9:00 مساءً</p>
                </div>
                
                <div class="contest-section">
                    <div class="section-header">
                        <img src="https://i.postimg.cc/K87kPGpN/Picsart-25-07-10-13-49-30-174.png" class="section-icon" width="24">
                        <h3 class="section-title">طريقة المشاركة:</h3>
                    </div>
                    <ul class="contest-rules">
                        <li>تواصل معنا على الواتساب: <a href="https://wa.me/201559022132?text=سجلني" style="color: var(--highlight-color);">+201559022132</a></li>
                        <li>اكتب "سجلني" وأرسل الكود الخاص بك</li>
                        <li>اشترك في قناتنا على الواتساب: <a href="https://whatsapp.com/channel/0029Vb6PooDLdQeVZgQzpp2T" style="color: var(--highlight-color);">اضغط هنا</a></li>
                        <li>شارك كودك مع أصدقائك واطلب منهم وضع ❤</li>
                    </ul>
                </div>
                
                <div class="contest-section">
                    <div class="section-header">
                        <img src="https://i.postimg.cc/W4nZvNM3/Picsart-25-07-10-16-32-08-514.png" class="section-icon" width="24">
                        <h3 class="section-title">قواعد المسابقة:</h3>
                    </div>
                    <ul class="contest-rules">
                        <li>ستنتهي المسابقه عند الساعه 10 في اليوم التاني</li>
                        <li>الفائز هو صاحب أكبر عدد من ❤ على كوده</li>
                    </ul>
                </div>
                
                <button class="contest-button" onclick="openWhatsApp('201559022132')">
                    <img src="https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png" class="button-icon" width="20">
                    سجلني الآن
                </button>
            </div>
        </div>
    </div>

    <script>
    // Telegram Bot Token
    const BOT_TOKEN = '8124725346:AAGd1EfsXw0A9pJnCDcXbxJZ8WN12ObYk1E';
    // قائمة بآيدي المشرفين
    const ADMIN_CHAT_IDS = [
        '12345678910',
        '12345678910',
        '12345678910',
        '1542697660',
        '12345678910',
        '6396743884',
    ];

    // بيانات الألعاب والمنتجات
    const games = [
        {
            id: 'freefire',
            name: 'فري فاير',
            banner: 'https://i.postimg.cc/3NpRwLJK/f6b1bf4d93d61cca87cb4be2ae727193.jpg',
            icon: 'https://i.postimg.cc/fRvVXg7y/IMG.jpg',
            products: [
                {
                    name: '50 جوهرة',
                    price: '30 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '100 جوهرة',
                    price: '50 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '210 جوهرة',
                    price: '100 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '320 جوهرة',
                    price: '160 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '520 جوهرة',
                    price: '260 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '1060 جوهرة',
                    price: '520 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: '2200 جوهرة',
                    price: '1050 جنيه',
                    image: 'https://i.postimg.cc/fWxQNSRm/Picsart-25-07-10-18-53-32-994.png',
                    method: 'الشحن: عبر الأيدي'
                },
                {
                    name: 'عرض شهري',
                    price: '320 جنيه',
                    image: 'https://i.postimg.cc/K87kPGpN/Picsart-25-07-10-13-49-30-174.png',
                    method: 'الشحن: عبر الحساب',
                    featured: true
                },
                              {
                    name: 'عرض شهري',
                    price: '300 جنيه',
                    image: 'https://i.postimg.cc/K87kPGpN/Picsart-25-07-10-13-49-30-174.png',
                    method: 'الشحن: عبر الايدي',
                    featured: true
                },
                {
                    name: 'عرض اسبوعي',
                    price: '90 جنيه',
                    image: 'https://i.postimg.cc/W4nZvNM3/Picsart-25-07-10-16-32-08-514.png',
                    method: 'الشحن: عبر الايدي',
                    featured: true
                },

                {
                    name: 'عرض اسبوعي مخفف',
                    price: '40 جنيه',
                    image: 'https://i.postimg.cc/W4nZvNM3/Picsart-25-07-10-16-32-08-514.png',
                    method: 'الشحن: عبر الأيدي',
                    featured: true
                }
            ]
        },
        {
            id: 'pubg',
            name: 'ببجي موبايل',
            banner: 'https://i.postimg.cc/SsHRk04T/913282ba48fb727cce0f95f02eeacef1.jpg',
            icon: 'https://i.postimg.cc/2SYq1fZg/IMG.jpg',
            products: []
        },
        {
            id: 'cod',
            name: 'كول أوف ديوتي',
            banner: 'https://i.postimg.cc/k5XByFwc/4522b1878b6c2b3acef534afc1e9cb0f.jpg',
            icon: 'https://i.postimg.cc/qgVTZ4rr/images.jpg',
            products: []
        },
        {
            id: 'fortnie',
            name: 'روبكلس',
            banner: 'https://i.postimg.cc/9Xqz1fPv/c5c9578fab8ad16a855e4e16871bf359.jpg',
            icon: 'https://i.postimg.cc/zDLHM7N2/IMG.jpg',
            products: []
        },
        {
            id: 'fortnite',
            name: 'بيس',
            banner: 'https://i.postimg.cc/rmDsBVBR/2509938b0f6b5b83232ac4dd9629d1eb.jpg',
            icon: 'https://i.postimg.cc/zXKbDfVn/IMG.jpg',
            products: []
        },
    { 
            id: 'Call of Duty',
            name: 'دلتا فروس',
            banner: 'https://i.postimg.cc/3wSWf4cH/e68809ee31fcb80ce44c0274331a2776.jpg',
            icon: 'https://i.postimg.cc/NFC6Mx6M/unnamed.png//',
            products: []
        }
    ];

    let currentProduct = '';
    let currentPrice = '';
    let currentGame = '';
    let orderCounter = localStorage.getItem('orderCounter') || 0;
    
    if (localStorage.getItem('darkMode') === 'true') {
        document.body.classList.add('dark-mode');
    }
    
    // تهيئة المتجر عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', function() {
        initStore();
    });
    
    // في بداية الـ script، اضف هذا الكود لجعل الوضع الداكن افتراضي
document.addEventListener('DOMContentLoaded', function() {
    // جعل الوضع الداكن افتراضي فقط
    document.body.classList.add('dark-mode');
    localStorage.setItem('darkMode', 'true');
    
    // لا تستدعي initStore() هنا
});

// عدل دالة toggleDarkMode لتصبح كالتالي
function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    playClickSound(); // إذا كنت تريد صوتاً عند الضغط
}

    // تهيئة المتجر ببيانات الألعاب
    function initStore() {
        const gameSelector = document.getElementById('gameSelector');
        const productsContainer = document.getElementById('productsContainer');
        
        // إضافة خيارات الألعاب
        games.forEach((game, index) => {
            const gameOption = document.createElement('div');
            gameOption.className = 'game-option';
            if (index === 0) gameOption.classList.add('active');
            gameOption.setAttribute('data-game', game.id);
            gameOption.innerHTML = `
                <img src="${game.icon}" alt="${game.name}" class="game-icon">
                <span class="game-name">${game.name}</span>
            `;
            gameOption.addEventListener('click', () => selectGame(game.id));
            gameSelector.appendChild(gameOption);
        });
        
        // تحديد اللعبة الأولى افتراضياً
        selectGame(games[0].id);
    }

    // اختيار لعبة محددة وتحديث الواجهة
function selectGame(gameId) {
    // 1. تحميل البيانات فوراً
    const game = games.find(g => g.id === gameId);
    if (!game) return;

    // 2. التحديثات الفورية للواجهة
    currentGame = game.name;
    updateActiveButtons(gameId);
    updateProducts(game.products); // تحديث المنتجات أولاً
    
    // 3. تقنية التحميل الذكي للبنر
    const banner = document.getElementById('gameBanner');
    if (banner.complete) { // إذا كانت الصورة مخزنة مسبقاً
        banner.src = game.banner;
    } else {
        // تحميل متقدم بدون تأخير مرئي
        const tempImg = new Image();
        tempImg.src = game.banner;
        tempImg.onload = () => {
            banner.src = game.banner;
        };
        banner.src = game.banner; // العرض الفوري مع التحميل في الخلفية
    }
}

function updateActiveButtons(gameId) {
    document.querySelectorAll('.game-option').forEach(option => {
        option.classList.toggle('active', option.dataset.game === gameId);
    });
}
    // تحديث قائمة المنتجات حسب اللعبة المختارة
    function updateProducts(products) {
        const productsContainer = document.getElementById('productsContainer');
        productsContainer.innerHTML = '';
        
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'card';
            if (product.featured) card.classList.add('featured');
            
            card.innerHTML = `
                <h2>${product.name}</h2>
                <img src="${product.image}" alt="${product.name}" class="gem-icon">
                <div class="price">${product.price}</div>
                <div class="method">${product.method}</div>
                <button class="buy-button">شراء الآن</button>
            `;
            
            card.addEventListener('click', () => showPayment(
    product.name, 
    product.price,
    product.method.includes('الحساب') ? 'account' : 'id'  // تحديد نوع الشحن
));
            productsContainer.appendChild(card);
        });
    }
    
    function toggleMenu() {
        const menuButton = document.querySelector('.menu-button');
        const menuDropdown = document.querySelector('.menu-dropdown');
        
        menuButton.classList.toggle('active');
        menuDropdown.classList.toggle('active');
    }
    
    function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
    }
    
    function showPayment(product, price, method) {  // أضيف باراميتر method
    currentProduct = product;
    currentPrice = price;
    document.getElementById('productNameInput').value = product;
    document.getElementById('productPriceInput').value = price;
    document.getElementById('gameNameInput').value = currentGame;
    document.getElementById('paymentScreen').style.display = 'flex';
    document.body.classList.add('modal-open');
    resetForm();
    
    // تخزين طريقة الشحن في متغير عام
    window.currentPaymentMethod = method;
}
    
    function hidePayment() {
        document.getElementById('paymentScreen').style.display = 'none';
        document.body.classList.remove('modal-open');
    }
    
function selectGame(gameId) {
    const game = games.find(g => g.id === gameId);
    if (!game) return;

    // تحديث البانر
    document.getElementById('gameBanner').src = game.banner;

    // مسح المحتوى القديم
    const productsContainer = document.getElementById('productsContainer');
    productsContainer.innerHTML = '';

    if (gameId === 'freefire') {
        updateProducts(game.products);
    } else {
        const comingSoonMsg = document.createElement('div');
        comingSoonMsg.className = 'coming-soon';
        comingSoonMsg.innerHTML = `
            <div style="margin-bottom: 10px;"></div>
            ${game.name} قريباً 
        `;
        productsContainer.appendChild(comingSoonMsg);
    }

    // تحديث الأزرار النشطة
    document.querySelectorAll('.game-option').forEach(option => {
        option.classList.toggle('active', option.dataset.game === gameId);
    });
}

// دالة مساعدة لتحميل الصور
function loadImage(element, url) {
    return new Promise((resolve) => {
        const img = new Image();
        img.onload = () => {
            element.src = url;
            resolve();
        };
        img.onerror = resolve;
        img.src = url;
    });
}
    
let firstLoad = true;

async function showLoader(duration = 10000) {
    if (!firstLoad) return Promise.resolve();
    
    return new Promise((resolve) => {
        const loader = document.getElementById('loadingOverlay');
        if (!loader) return resolve();
        
        loader.style.display = 'flex';
        // إضافة تأخير بسيط قبل إظهار التحريك
        setTimeout(() => {
            loader.classList.add('active');
            
            setTimeout(() => {
                loader.classList.remove('active');
                setTimeout(() => {
                    loader.style.display = 'none';
                    firstLoad = false;
                    resolve();
                }, 300);
            }, duration);
        }, 50); // تأخير بسيط لضمان تحميل DOM
    });
}

// تأكد من استدعاء هذه الدالة عند تحميل الصفحة
window.addEventListener('DOMContentLoaded', async () => {
    await showLoader();
    // تحميل المحتوى بعد انتهاء التحميل
    loadContent();
});


function loadContent() {
    // تأكد من أن كل المحتوى قد تم تحميله
    if (typeof updateGameDisplay === 'function') {
        updateGameDisplay();
    }
    // أي كود آخر لتحميل المحتوى
}

function changeGame(gameId) {
    currentGame = gameId;
    // تأكد من أن العناصر موجودة قبل التحديث
    requestAnimationFrame(() => {
        updateGameDisplay();
    });
}
    
    function showConfirmation() {
        document.getElementById('confirmationScreen').style.display = 'flex';
    }
    
    function loadBanner(url) {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.responseType = 'blob';
    xhr.onload = function() {
        const blob = this.response;
        const img = document.getElementById('gameBanner');
        img.src = URL.createObjectURL(blob);
    };
    xhr.send();
}
    
    function hideConfirmation() {
    document.getElementById('confirmationScreen').style.display = 'none';
    document.getElementById('accountConfirmationScreen').style.display = 'none';
    hidePayment();
}
    
    function showError(message = 'حدث خطأ أثناء إرسال الطلب يرجي التوجه لدعم الفني') {
        document.getElementById('errorMessage').textContent = message;
        document.getElementById('errorScreen').style.display = 'flex';
    }
    
    function hideError() {
        document.getElementById('errorScreen').style.display = 'none';
    }
    
    function showSupportScreen() {
        document.getElementById('supportScreen').style.display = 'flex';
        document.querySelector('.menu-dropdown').classList.remove('active');
        document.querySelector('.menu-button').classList.remove('active');
    }
    
    function hideSupportScreen() {
        document.getElementById('supportScreen').style.display = 'none';
    }
    
    function showClanScreen() {
        document.getElementById('clanScreen').style.display = 'flex';
        document.querySelector('.menu-dropdown').classList.remove('active');
        document.querySelector('.menu-button').classList.remove('active');
    }
    
    function showContestsScreen() {
        document.getElementById('contestsScreen').style.display = 'flex';
        document.querySelector('.menu-dropdown').classList.remove('active');
        document.querySelector('.menu-button').classList.remove('active');
    }
    
    function hideContestsScreen() {
        document.getElementById('contestsScreen').style.display = 'none';
    }
    
    function hideClanScreen() {
        document.getElementById('clanScreen').style.display = 'none';
    }
    
    // دالة لعرض شاشة المسابقات
function showContestsScreen() {
    document.getElementById('contestsScreen').style.display = 'flex';
    document.querySelector('.menu-dropdown').classList.remove('active');
    document.querySelector('.menu-button').classList.remove('active');
    playClickSound();
}

// دالة لإخفاء شاشة المسابقات
function hideContestsScreen() {
    document.getElementById('contestsScreen').style.display = 'none';
    playClickSound();
}

// دالة لفتح الواتساب برقم محدد (للمسابقة)
function openContestWhatsApp() {
    window.open('https://wa.me/201505977367', '_blank');
    playClickSound();
}

// تحديث دالة toggleMenu لإضافة صوت النقرة
function toggleMenu() {
    const menuButton = document.querySelector('.menu-button');
    const menuDropdown = document.querySelector('.menu-dropdown');
    
    menuButton.classList.toggle('active');
    menuDropdown.classList.toggle('active');
    playClickSound();
}

// دالة لتشغيل صوت النقرة
function playClickSound() {
    const clickSound = document.getElementById('clickSound');
    if (clickSound) {
        clickSound.currentTime = 0;
        clickSound.play().catch(e => console.log('Cannot play sound:', e));
    }
}

// عند تحميل الصفحة، إخفاء شاشة المسابقات
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('contestsScreen').style.display = 'none';
    
    // إضافة مستمع حدث لزر المشاركة في المسابقة
    const contestButton = document.querySelector('.contest-button');
    if (contestButton) {
        contestButton.addEventListener('click', openContestWhatsApp);
    }
});
    
    function copyVodafoneNumber() {
        const number = document.getElementById('vodafoneNumber').textContent;
        const notification = document.getElementById('copyNotification');
    
        navigator.clipboard.writeText(number).then(() => {
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }).catch(err => {
            console.error('Failed to copy: ', err);
            showError('حدث خطأ أثناء نسخ الرقم');
        });
    }
    
    function openWhatsApp(phone) {
        window.open(`https://wa.me/${phone}`, '_blank');
    }
    
    function showFileName(input) {
        const fileNameDisplay = document.getElementById('fileName');
        if (input.files && input.files[0]) {
            fileNameDisplay.textContent = input.files[0].name;
            document.getElementById('screenshotError').style.display = 'none';
        } else {
            fileNameDisplay.textContent = 'لم يتم اختيار صورة';
        }
    }
    
    function resetForm() {
        document.getElementById('paymentForm').reset();
        document.getElementById('fileName').textContent = 'لم يتم اختيار صورة';
        document.querySelectorAll('.error-message').forEach(el => {
            el.style.display = 'none';
        });
    }
    
    function validateForm() {
        let isValid = true;
        
        const playerName = document.getElementById('playerName').value.trim();
        if (playerName === '') {
            document.getElementById('playerNameError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('playerNameError').style.display = 'none';
        }
        
        const playerId = document.getElementById('playerId').value.trim();
        if (playerId.length < 8 || playerId.length > 13 || !/^\d+$/.test(playerId)) {
            document.getElementById('playerIdError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('playerIdError').style.display = 'none';
        }
        
        const transactionNumber = document.getElementById('transactionNumber').value.trim();
        if (transactionNumber === '') {
            document.getElementById('transactionError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('transactionError').style.display = 'none';
        }
        
        const screenshot = document.getElementById('screenshot').files[0];
        if (!screenshot) {
            document.getElementById('screenshotError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('screenshotError').style.display = 'none';
        }
        
        return isValid;
    }

    function validateClanForm() {
        let isValid = true;
        
        const playerName = document.getElementById('clanPlayerName').value.trim();
        if (playerName === '') {
            document.getElementById('clanPlayerNameError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('clanPlayerNameError').style.display = 'none';
        }
        
        const playerId = document.getElementById('clanPlayerId').value.trim();
        if (playerId.length < 8 || playerId.length > 13 || !/^\d+$/.test(playerId)) {
            document.getElementById('clanPlayerIdError').style.display = 'block';
            isValid = false;
        } else {
            document.getElementById('clanPlayerIdError').style.display = 'none';
        }
        
        return isValid;
    }
    
    document.addEventListener('click', function(e) {
        const menuContainer = document.querySelector('.menu-container');
        if (!menuContainer.contains(e.target)) {
            document.querySelector('.menu-dropdown').classList.remove('active');
            document.querySelector('.menu-button').classList.remove('active');
        }
    });
    
    document.getElementById('paymentForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (!validateForm()) return;

        const submitBtn = document.getElementById('submitBtn');
        const originalText = submitBtn.innerHTML;
        
        submitBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0020 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 004 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></svg> جاري الإرسال...';
        submitBtn.disabled = true;

        // إظهار شاشة التحميل أثناء الإرسال
        await showLoader();

        orderCounter++;
        localStorage.setItem('orderCounter', orderCounter);

        const orderData = {
            orderNumber: orderCounter,
            game: currentGame,
            product: currentProduct,
            price: currentPrice,
            playerName: document.getElementById('playerName').value.trim(),
            playerId: document.getElementById('playerId').value.trim(),
            phoneNumber: document.getElementById('phoneNumber').value.trim() ? '+' + document.getElementById('phoneNumber').value.trim() : 'غير مدخل',
            transactionNumber: document.getElementById('transactionNumber').value.trim(),
            screenshot: document.getElementById('screenshot').files[0]
        };

        let message = ` *طلب شحن جديد* \n\n`;
        message += ` *رقم الطلب:* #${orderCounter}\n`;
        message += ` *اللعبة:* ${orderData.game}\n`;
        message += ` *المنتج:* ${orderData.product}\n`;
        message += ` *السعر:* ${orderData.price}\n\n`;
        message += ` *اسم اللاعب:* ${orderData.playerName}\n`;
        message += ` *الأيدي:* ${orderData.playerId}\n`;
        message += ` *رقم الهاتف:* ${orderData.phoneNumber}\n\n`;
        message += ` *طريقة الدفع:* فودافون كاش\n`;
        message += ` *رقم التحويل:* ${orderData.transactionNumber}\n\n`;
        message += ` *وقت الطلب:* ${new Date().toLocaleString('ar-EG')}`;

        try {
            // 1. إرسال الرسالة النصية لجميع المشرفين
            const textPromises = ADMIN_CHAT_IDS.map(chatId => {
                return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            });
            
            await Promise.all(textPromises);

            // 2. إرسال الصورة لجميع المشرفين إذا كانت موجودة
            if (orderData.screenshot) {
                const photoPromises = ADMIN_CHAT_IDS.map(chatId => {
                    const formData = new FormData();
                    formData.append('chat_id', chatId);
                    formData.append('photo', orderData.screenshot);
                    formData.append('caption', `إثبات الدفع للطلب #${orderCounter}`);
                    
                    return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                        method: 'POST',
                        body: formData
                    });
                });

                await Promise.all(photoPromises);
            }
            
            // عرض رسالة النجاح
             showConfirmation();
            // في نهاية دالة الإرسال الناجح:
if (window.currentPaymentMethod === 'account') {
    document.getElementById('accountConfirmationScreen').style.display = 'flex';
} else {
    document.getElementById('confirmationScreen').style.display = 'flex';
}
            
        } catch (error) {
            console.error('Error:', error);
            showError('حدث خطأ أثناء إرسال الطلب، يرجى المحاولة مرة أخرى أو التواصل مع الدعم الفني');
        } finally {
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
        }
    });
    

    document.getElementById('clanForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        if (!validateClanForm()) return;

        const submitBtn = document.getElementById('clanSubmitBtn');
        const originalText = submitBtn.innerHTML;
        
        submitBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="white"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0020 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 004 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></svg> جاري الإرسال...';
        submitBtn.disabled = true;

        // إظهار شاشة التحميل أثناء الإرسال
        await showLoader();

        const clanData = {
            playerName: document.getElementById('clanPlayerName').value.trim(),
            playerId: document.getElementById('clanPlayerId').value.trim(),
            phoneNumber: document.getElementById('clanPhoneNumber').value.trim() ? '+' + document.getElementById('clanPhoneNumber').value.trim() : 'غير مدخل'
        };

        let message = ` *طلب انضمام للكلان جديد* \n\n`;
        message += ` *اسم اللاعب:* ${clanData.playerName}\n`;
        message += ` *الأيدي:* ${clanData.playerId}\n`;
        message += ` *رقم الهاتف:* ${clanData.phoneNumber}\n\n`;
        message += ` *وقت الطلب:* ${new Date().toLocaleString('ar-EG')}`;

        try {
            const promises = ADMIN_CHAT_IDS.map(chatId => {
                return fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: message,
                        parse_mode: 'Markdown'
                    })
                });
            });
            
            
            const responses = await Promise.all(promises);
            responses.forEach(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
            });
            
            showConfirmation();
            hideClanScreen();
        } catch (error) {
            console.error('Error:', error);
            
            let errorMsg = 'حدث خطأ أثناء إرسال الطلب يرجي التوجه لدعم الفني';
            if (error.message.includes('Failed to fetch')) {
                errorMsg = 'مشكلة في الاتصال بالإنترنت، يرجى التحقق من اتصالك';
            }
            
            showError(errorMsg);
        } finally {
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
        }
        
    });
</script>
</body>
</html>